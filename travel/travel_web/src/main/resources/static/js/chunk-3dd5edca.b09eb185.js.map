{"version":3,"sources":["webpack:///./src/views/Station.vue?4f9b","webpack:///src/views/Station.vue","webpack:///./src/views/Station.vue?00b3","webpack:///./src/views/Station.vue","webpack:///./src/views/Station.vue?4383"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","_l","item","key","index","_v","_s","districtName","count","staticRenderFns","data","mapData","StationCount","mounted","getMapData","getStationCount","methods","$axios","initMap","console","log","map","AMap","Map","center","resizeEnable","zoom","mapStyle","lnglats","length","i","text","Text","textAlign","verticalAlign","draggable","cursor","angle","style","width","height","color","position","animation","setMap","resumeMove","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,gBAAkB,WAAWC,MAAM,CAAC,GAAK,cAAc,CAACH,EAAG,MAAM,CAACI,YAAY,cAAc,CAACJ,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACR,EAAIS,GAAIT,EAAgB,cAAE,SAASU,GAAM,OAAON,EAAG,IAAI,CAACO,IAAID,EAAKE,OAAO,CAACR,EAAG,IAAI,CAACI,YAAY,mBAAmBF,YAAY,CAAC,eAAe,UAAUN,EAAIa,GAAG,aAAab,EAAIc,GAAGJ,EAAKK,cAAc,IAAIf,EAAIc,GAAGJ,EAAKM,OAAO,kBAAiBZ,EAAG,OAAO,QAC9ea,EAAkB,GCetB,GACEC,KADF,WAEI,MAAO,CACLC,QAAS,GACTC,aAAc,KAGlBC,QAPF,WASIpB,KAAKqB,aACLrB,KAAKsB,mBAGPC,QAAS,CACPD,gBADJ,WACA,WACMtB,KAAKwB,OAAO,CACV,OAAR,OACQ,IAAR,6BACQ,KAAR,CAAU,SAAV,QAEA,kBACQ,EAAR,6BAGIH,WAXJ,WAWA,WAEMrB,KAAKwB,OAAO,CACV,OAAR,OACQ,IAAR,yBACQ,KAAR,CAAU,SAAV,QAEA,kBAQQ,IAAR,iCACA,uBACA,OACc,EAAd,cACA,2BACA,6BAKQ,QAAR,eACQ,EAAR,sBACU,EAAV,0BAIIC,QA1CJ,SA0CA,GACMC,QAAQC,IAAIV,GACZ,IAAIW,EAAM,IAAIC,KAAKC,IAAI,YAAa,CAClCC,OAAQd,EAAK,GACbe,cAAc,EACdC,KAAM,GACNC,SAAU,uBAOlB,IAeM,GAAIC,EAAQC,OAAS,EACnB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAQC,OAAQC,GAAK,EAAG,CAC1C,IAAIC,EAAO,IAAIT,KAAKU,KAAK,CACvBD,KAAM,IACNE,UAAW,SACXC,cAAe,SACfC,WAAW,EACXC,OAAQ,UACRC,MAAO,GACPC,MAAO,CACLC,MAAO,OACPC,OAAQ,OACR,gBAAiB,MACjB,eAAgB,EAChB,aAAc,SACd,YAAa,OACbC,MAAO,OACP,mBAAoB,UACpB,kBAAmB,4BACnB,aAAc,2BACd,qBAAsB,yBACtBC,SAAU,UACVC,UAAW,sBACX,4BAA6B,WAC7B,kBAAmB,QAErBD,SAAUd,EAAQE,KAEpBC,EAAKa,OAAOvB,GACZU,EAAKc,WAAWxB,OChI2Z,I,wBCQjbyB,EAAY,eACd,EACAvD,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAqC,E,2CCnBf,yBAAqrB,EAAG,G","file":"js/chunk-3dd5edca.b09eb185.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"backgroundColor\":\"#1b1b1b\"},attrs:{\"id\":\"container\"}},[_c('div',{staticClass:\"order_list\"},[_c('div',{staticClass:\"vertical-text\"},[_vm._l((_vm.StationCount),function(item){return _c('p',{key:item.index},[_c('i',{staticClass:\"el-icon-location\",staticStyle:{\"margin-right\":\"10px\"}}),_vm._v(\"\\n        \"+_vm._s(item.districtName)+\":\"+_vm._s(item.count)+\"个\\n      \")])}),_c('br')],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 虚拟车站 -->\n<template>\n  <div style=\"backgroundColor:#1b1b1b\" id=\"container\">\n    <div class=\"order_list\">\n      <div class=\"vertical-text\">\n        <p v-for=\"item in StationCount\" :key=\"item.index\">\n          <i style=\"margin-right: 10px\" class=\"el-icon-location\"></i>\n          {{item.districtName}}:{{item.count}}个\n        </p>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      mapData: [],\n      StationCount: []\n    };\n  },\n  mounted() {\n    //目前接口不通 先备注\n    this.getMapData();\n    this.getStationCount();\n    // this.initMap();\n  },\n  methods: {\n    getStationCount() {\n      this.$axios({\n          method: \"post\",\n          url: \"/track/virtualStationCount\",\n          data: { cityCode: \"83\" }\n        })\n        .then(resData => {\n          this.StationCount = resData.data.data;\n        });\n    },\n    getMapData() {\n      var newArray = [];\n      this.$axios({\n          method: \"post\",\n          url: \"/track/virtualStations\",\n          data: { cityCode: \"83\" }\n        })\n        .then(res => {\n          // newArray = res.data.data.slice(0,100)\n          // console.log(newArray)\n          // res.data.data.forEach(item => {\n          //   this.mapData.push(\n          //     [item.startingLng, item.startingLat]\n          //   )\n          // })\n          for (let i = 0; i < res.data.data.length; i++) {\n            if (res.data.data[0] !== null) {\n              if (i < 100) {\n                this.mapData.push([\n                  res.data.data[i].startingLng,\n                  res.data.data[i].startingLat\n                ]);\n              }\n            }\n          }\n          console.log(this.mapData);\n          this.$nextTick(() => {\n            this.initMap(this.mapData);\n          });\n        });\n    },\n    initMap(data) {\n      console.log(data);\n      var map = new AMap.Map(\"container\", {\n        center: data[0], //设置中心点\n        resizeEnable: true,\n        zoom: 12,\n        mapStyle: \"amap://styles/dark\"\n      });\n      //  map.setMapStyle('amap://styles/dark')\n      var preIcon,\n        clickIcon,\n        cluster,\n        markers = [],\n        lnglats = data;\n      //  [\n      //   [114.374025,30.874155],\n      //   [114.802108,30.842149],\n      //   [114.30304,30.594911],\n      //   [114.029341,30.582186],\n      //   [114.08124,30.309637],\n      //   [114.283109,30.578771],\n      //   [114.39707,30.634215],\n      //   [114.307344,30.546536],\n      //   [114.313961,30.349045],\n      //   [114.400718,30.504259],\n      //   [114.142483,30.622467],\n      //   [114.264568,30.57061],\n      //   [114.265807,30.549326]];\n      if (lnglats.length > 0) {\n        for (var i = 0; i < lnglats.length; i += 1) {\n          var text = new AMap.Text({\n            text: \" \",\n            textAlign: \"center\",\n            verticalAlign: \"middle\", //middle 、bottom\n            draggable: false, //数据是否可拖动\n            cursor: \"pointer\",\n            angle: 10, //点标记的旋转角度支持IE9及以上版本\n            style: {\n              width: \"10px\",\n              height: \"10px\",\n              \"border-radius\": \"50%\",\n              \"border-width\": 0,\n              \"text-align\": \"center\",\n              \"font-size\": \"12px\",\n              color: \"blue\",\n              \"background-color\": \"#009FD9\",\n              \"-moz-box-shadow\": \"0px 0px 20px 2px  #009FD9\",\n              \"box-shadow\": \"0px 0px 20px 2px #009FD9\",\n              \"-webkit-box-shadow\": \"0 0 20px, 20px #009FD9\",\n              position: \"absoult\",\n              animation: \"myfirst 1s ease-out\",\n              \"animation-iteration-count\": \"infinite\",\n              \"animation-delay\": \"1.1s\"\n            },\n            position: lnglats[i]\n          });\n          text.setMap(map);\n          text.resumeMove(map);\n        }\n      }\n\n      //鼠标点击事件,设置地图中心点及放大显示级别\n      function resetMap(e) {\n        console.log(e);\n        console.log(\"您模拟触发了地图click事件!\");\n        new AMap.InfoWindow({\n          content: \"模拟事件触发\"\n        }).open(map, e.lnglat);\n        // map.setZoomAndCenter(11, e.target.getPosition());\n\n        for (var i = 0; i < markers.length; i++) {\n          markers[i].setIcon(preIcon);\n        }\n\n        e.target.setIcon(clickIcon);\n      }\n\n      //   AMap.plugin([\"AMap.ControlBar\"], function() {\n      // // 添加 3D 罗盘控制\n      //     map.addControl(new AMap.ControlBar());\n      //   });\n\n      // 创建纯文本标记\n      // var text = new AMap.Text({\n      //   text: \"5个\",\n      //   anchor: \"center\", // 设置文本标记锚点\n      //   draggable: true,\n      //   cursor: \"pointer\",\n      //   // angle: 10,\n      //   style: {\n      //     padding: \".2rem 1.25rem\",\n      //     \"margin-bottom\": \"1rem\",\n      //     \"border-radius\": \".25rem\",\n      //     \"background-color\": \"white\",\n      //     width: \"3rem\",\n      //     \"border-width\": 0,\n      //     \"box-shadow\": \"0 2px 6px 0 rgba(114, 124, 245, .5)\",\n      //     \"text-align\": \"center\",\n      //     \"font-size\": \"20px\",\n      //     color: \"blue\"\n      //   },\n      //   position: [116.333926, 39.997245]\n      // });\n\n      // text.setMap(map);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#container {\n  width: 100%;\n  height: 100%;\n  .order_list {\n    width: 200px;\n    height: 200px;\n    background: #181b2c;\n    opacity: 0.8;\n    color: #fff;\n    z-index: 999;\n    position: absolute;\n    top: 80px;\n    border: 1px solid black;\n    border-radius: 0 100px 100px 0;\n    // transform:rotate(90deg);\n    left: 0;\n    .vertical-text {\n      font-size: 15px;\n      color: #fff;\n      margin: 20px 0 0 35px;\n      p {\n        color: #009fd9;\n        margin-top: 10%;\n      }\n    }\n  }\n  @keyframes myfirst {\n    0% {\n      transform: scale(0.1, 0.1);\n      opacity: 0;\n      filter: alpha(opacity=0);\n    }\n    /* 40% {transform: scale(3);} */\n    60% {\n      opacity: 0.8;\n      filter: none;\n    }\n    /* 80% {transform: scale(5);} */\n    100% {\n      transform: scale(1.1, 1.1);\n      opacity: 0;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Station.vue?vue&type=template&id=df42320a&scoped=true&\"\nimport script from \"./Station.vue?vue&type=script&lang=js&\"\nexport * from \"./Station.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Station.vue?vue&type=style&index=0&id=df42320a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df42320a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=0&id=df42320a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Station.vue?vue&type=style&index=0&id=df42320a&lang=scss&scoped=true&\""],"sourceRoot":""}